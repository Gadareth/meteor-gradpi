<template name="advisorProfileCard">

    <div class="advisor-profile-card">
        <div class="advisor-image text-center">
            {{#if advisor.imageId}}
                {{#with image advisor.imageId}}
                    {{#if isUploaded}}
                        <img src="{{url}}" class="square">
                    {{else}}
                        Image is processing...
                    {{/if}}
                {{/with}}
            {{else}}
                <img src="/images/avatar.png" class="square">
            {{/if}}

            {{#if canEditImage}}
                <div class="image-overlay">
                    <label for="image">
                        <span>
                            Update image
                            <br>
                            <i class="fa fa-picture-o" style="font-size:2em;"></i>
                        </span>
                    </label>
                    <input type="file" id="image" class="myFileInput" style="width:1px; height:1px; position:absolute; left: -999999px;">
                </div>
            {{/if}}

        </div>
        {{#unless state 'edit'}}
            <div class="text-center">
                <br>
                <b>{{advisor.firstName}} {{advisor.lastName}}</b>
                <br>
                {{advisor.school}}
                <br>
                {{advisor.dept}}
                <br>
                {{advisor.website}}
                {{#if isAdmin}}
                    <div>
                        <a action="set-state" data-state="edit" class="btn btn-default">Edit</a>
                    </div>
                {{/if}}
            </div>
        {{else}}
            <div class="clearfix">
                {{> advisorsForm advisor=advisor onSubmit=updateAdvisor}}
            </div>
        {{/unless}}
    </div>

</template>
